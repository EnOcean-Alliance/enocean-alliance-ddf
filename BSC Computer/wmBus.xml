<?xml version="1.0" encoding="utf-8"?>
<Enocean_Devices
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../ReCom_Device_Description_Schema.xsd"
	schemaVersion="1.3">
	<!-- Prototyp -->
	<Device Product_ID="0x001600000002">
	<Name>wMBus</Name>
	<Description>Convert the signals from wMBus Meter to EnOcean Signals</Description>
	<Firmware_Version>1.0.0</Firmware_Version>
	<Hardware_Version>1.0.0</Hardware_Version>
	<Frequency>868</Frequency>
	<TX>
		<EURID>
			<EEP>
				<Rorg>0xD1</Rorg>
			</EEP>
			<!-- payload after Rorg -->
			<MSC>
				<Bitfield>
				  <Field name="ManufacturerID" offset="8" bitSize="12">
				  	<EnumHexValue value="16" meaning="BSC Computer GmbH"/>
				  </Field>
				 <!-- wMBus use only this protocol; it is fix  -->
				 <Field name="BusType" offset="12" bitSize="4">
				  	<EnumValue value="1" meaning="wMBus2EnOcean protocol"/>
				 </Field>
				 <!--  similar to the CMD types in the VLD description; 
				 one telegram type represent a different interpretation of the the subsequent payload data  -->
				 <Field name="TelegramType" offset="16" bitSize="8">
					<!-- Prefix PD = primary device -->
					<!-- PD installation telegram; Teach in -->
					<EnumValue value="1" meaning="PDI"/> 	
					<!-- PD data telegram; Consumption value -->
					<EnumValue value="2" meaning="PDA"/> 
					<!-- PD cut off telegram; It's a resetted counter value -->
					<EnumValue value="3" meaning="PDCO"/> 
					<!-- PD status telegram; status information-->	
					<EnumValue value="4" meaning="PDS"/>
					<!-- PD change id; transmit the new identification number of the sensor -->	
				 	<EnumValue value="5" meaning="PDCID"/> 		
				 </Field>
				 
				 <!-- payload to the different telegram types -->
			
				 <SubsequentPayload id="PDI">
				 	  <Field name="manufacturer" offset="24" bitSize="16">
					    <EnumValue value="1" meaning="QUNDIS GmbH"/>
				 	 </Field>
				     <Field name="device type" offset="40" bitSize="8">
				     	<EnumValue value="0" meaning="not available"/>
				     	<EnumValue value="1" meaning="oil meter"/>
					    <EnumValue value="2" meaning="electricity meter"/>
					    <!-- followed with more device types -->
				 	 </Field>
				 	 
				 	 <Field name="device classification" offset="48" bitSize="8">
				 		<EnumValue value="0" meaning="base implementation"/>
				 		<!-- more enum values when different implementation of one device type exists -->		
				 	 </Field>
				 </SubsequentPayload>
				 
				 <SubsequentPayload id="PDA">
				   <Field name="measurement channel" offset="24" bitSize="4">
				  		<ScaledIntegerValue minValue="01" maxValue="0F" minScaled="0" maxScaled="15" unit="n/a"/>
				   </Field>
				   <Field name="data/lrn bit" offset="28" bitSize="1">
				   		<EnumValue value="1" meaning="data telegram as content"/>
				   </Field>
				   <Field name="value type" offset="29" bitSize="1">
				   		<EnumValue value="0" meaning="cumulative value"/>
				   		<EnumValue value="1" meaning="curent value"/>
				   </Field>
				   <Field name="divisor" offset="30" bitSize="2">
				  		<EnumValue value="0" meaning="x/1"/>
				  		<EnumValue value="1" meaning="x/10"/>
				  		<EnumValue value="2" meaning="x/100"/>
				  		<EnumValue value="3" meaning="x/1000"/>
				   </Field>
				   <Field name="current value" offset="32" bitSize="32">
				  		<ScaledIntegerValue minValue="00" maxValue="FFFFFFFF" minScaled="0" maxScaled="4294967295" unit="n/a"/>
				   </Field>
				 </SubsequentPayload>
				 
				 <!-- the cut off the cumulative value use the same specification as PDA -->
				 <SubsequentPayload id="PDCO" refId="PDA"/>
				 
				 <SubsequentPayload id="PDS">
				 	<Field name="error details" offset="24" bitSize="32">
				 		<ScaledIntegerValue minValue="00" maxValue="FFFFFFFF" minScaled="0" maxScaled="4294967295" unit="n/a"/>
				 	</Field>
				 
				 </SubsequentPayload>
				 
				 <SubsequentPayload id="PDCID"> 
					<Field name="fabrication number" offset="24" bitSize="32">
				 		<ScaledIntegerValue minValue="00" maxValue="FFFFFFFF" minScaled="0" maxScaled="4294967295" unit="n/a"/>
				 	</Field>
				
				</SubsequentPayload>
				 
				 
				 
				 
				 
				</Bitfield>
			</MSC>
		</EURID>
	</TX>
	
	
	
	</Device>	
	

</Enocean_Devices>